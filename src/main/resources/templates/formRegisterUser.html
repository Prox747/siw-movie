<!DOCTYPE html>
<html>

<head>
  <title>
    RegisterFrom
  </title>
  <link rel="stylesheet" href="/css/form_style.css" />
</head>

<body>
<header>
  <div th:if="${#request.userPrincipal}">
    <span th:text="${#request.userPrincipal.principal.username}"></span>
    <a href="/logout">Logout</a>
  </div>
  <div th:unless="${#request.userPrincipal}">
    <a href="/login">Login</a>
  </div>
</header>

<h1>Registrazione</h1>
<form th:action="@{/register}" method="POST">
  <div>
    <label for="username">Username</label>
    <input id="username" type="text" placeholder="username" required th:field="${credentials.username}" />
			</span>
    <span th:if="${#fields.hasErrors('credentials.username')}" th:errors="${credentials.username}"
          th:style="'color:red'">
    </span>
  </div>

  <div>
    <label for="password">Password</label>
    <input id="password" type="password" placeholder="password" required th:field="${credentials.password}"/>
    <span th:if="${#fields.hasErrors('credentials.password')}" th:errors="${credentials.password}"
          th:style="'color:red'">
    </span>
  </div>

  <div>
    <label for="nome">Nome</label>
    <input id="nome" type="text" placeholder="name" required th:field="${user.name}" />
    <span th:if="${#fields.hasErrors('user.name')}" th:errors="${user.name}" th:style="'color:red'"></span>
  </div>

  <div>
    <label for="cognome">Cognome</label>
    <input id="cognome" type="text" placeholder="surname" required th:field="${user.surname}" />
    <span th:if="${#fields.hasErrors('user.surname')}" th:errors="${user.surname}" th:style="'color:red'"></span>
  </div>

  <div>
    <label for="email">Email</label>
    <input id="email" type="text" placeholder="email" required th:field="${user.email}" />
    <span th:if="${#fields.hasErrors('user.email')}" th:errors="${user.email}" th:style="'color:red'"></span>
  </div>

  <div>
    <button type="submit">Registra</button>
  </div>

</form>
</body>

</html>